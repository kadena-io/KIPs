---
KIP: '0045'
Title: kadena_networkChanged_v1 Event
Author: Danillo Felixdaal and Bart Huijgen
Status: Draft
Type: Standard
Category: Interface
Created: 2025-02-17
---

# kadena_networkChanged_v1 Event

## Abstract

This proposal standardizes the **`kadena_networkChanged_v1`** notification event, which wallets **SHOULD** emit whenever the active network changes. dApps can react by re-initializing requests or updating UI labels to reflect the new Kadena network environment.

## Motivation

If a user changes from e.g. `mainnet01` to `testnet04`, or if the wallet automatically switches networks due to user configuration, the dApp must know which network to target. Without a standardized event, each wallet might convey this change differently, complicating integrations.

## Specification

### Event Name

**Method Name:** `kadena_networkChanged_v1`

**Type:** JSON-RPC 2.0 **notification**

> **Important:** Same as the `kadena_accountChanged_v1` event, it is typically sent without an `id` field or a required response.

### Event Parameters

```typescript
interface NetworkChangedEventParams {
  network: {
    name: string // e.g., "kadena:mainnet01"
    networkId: string // e.g., "mainnet01"
    url?: string // optional URL for the active chain or network
  }
}
```

### Notification Example

#### Notification

```json
{
  "jsonrpc": "2.0",
  "method": "kadena_networkChanged_v1",
  "params": {
    "network": {
      "name": "kadena:mainnet01",
      "networkId": "mainnet01",
      "url": "https://api.chainweb.com/chainweb/0.0/mainnet01/chain/0"
    }
  }
}
```

### Behavior Requirements

1. **Emission Triggers**

   - **MUST** emit `kadena_networkChanged_v1` whenever the user changes the active network in the wallet.
   - **MAY** also emit if the wallet automatically switches networks for any reason (config updates, advanced preferences, etc.).

2. **Payload Accuracy**

   - **MUST** accurately reflect the new active network at time of emission.

3. **Error Handling**

   - **N/A** for notifications. The wallet does not expect any acknowledgment or error code from the dApp side.

4. **Backwards Compatibility**
   - Existing or older wallet event names **SHOULD** remain available for a transition period.
   - Documentation **MUST** mark older event names as deprecated once `kadena_networkChanged_v1` is available.

## Security Considerations

- **Data Accuracy**: The wallet **MUST** ensure the published `networkId` and any `url` remain consistent with the user’s actual session.
- **Untrusted Source**: dApps **SHOULD** treat external notifications as untrusted input but rely on the wallet’s correct representation of its internal network state.
