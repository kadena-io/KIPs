---
KIP: "0040"
Title: kadena_getNetworks_v1 API
Author: Danillo Felixdaal and Bart Huijgen
Status: Draft
Type: Standard
Category: Interface
Created: 2025-02-17
---

# kadena_getNetworks_v1 API

## Abstract

We propose the `kadena_getNetworks_v1` method to provide a list of networks known by the wallet. This allows dApps to present the user with a list of available networks and allow them to select one, as well as the ability to submit transactions on these wallet defined networks.

## Specification

### Method Definition

**Method Name:** `kadena_getNetworks_v1`

### Request Parameters

```typescript
interface GetNetworksRequest {
  // No parameters are required for this method.
}
```

### Response

The method returns a NetworkInfo object containing details about the active networks:

```ts
interface NetworkInfo {
  name: string; // The human-readable name of the network.
  networkId: string; // The unique identifier for the network (e.g., "mainnet01").
  url?: string; // Optional: The network endpoint URL.
}
```

### Error Responses

In case of failure, the wallet MUST return an error according to the [jsonrpc spec](https://www.jsonrpc.org/specification#error_object) which represent the following type:

```typescript
interface ErrorResponse {
  id: number;
  jsonrpc: "2.0";
  error: {
    code: number;
    message: string;
    data?: object;
  };
}
```

### Error types

| Code   | Message               |
| ------ | --------------------- |
| -32603 | Internal server error |

### Behavior Requirements

1. Network Information Retrieval:
   • MUST return accurate and up-to-date information about the currently active network.
   • MUST support all networks that the wallet is configured to operate with.

2. Event Emission:
   • SHOULD emit a kadena_networkChanged event when there is a change in the active network.

3. Error Handling:
   • MUST return a clear error if network information cannot be retrieved due to configuration issues or unsupported networks.

# Examples

## Request

```json
{
  "id": 1,
  "jsonrpc": "2.0",
  "method": "kadena_getNetworks_v1",
  "params": {}
}
```

## Success Response

```json
{
  "id": 1,
  "jsonrpc": "2.0",
  "result": [
    {
      "name": "kadena:mainnet01",
      "networkId": "mainnet01",
      "url": "https://api.chainweb.com/chainweb/0.0/mainnet01/chain/0"
    },
    {
      "name": "kadena:testnet04",
      "networkId": "testnet04",
      "url": "https://api.chainweb.com/chainweb/0.0/testnet04/chain/0"
    }
  ]
}
```

## Error Response Example

```json
{
  "id": 1,
  "jsonrpc": "2.0",
  "error": {
    "code": -32603,
    "message": "Internal server error"
  }
}
```

## Backwards Compatibility

• Legacy Methods: Wallets MAY support older methods for retrieving network information alongside kadena_getNetwork_v1. Legacy methods MUST be documented as deprecated and phased out over time.
• Configuration Consistency: Implementations MUST ensure that the returned network information matches the wallet’s active configuration.

## Security Considerations

• Data Accuracy: Ensure that the returned network information is accurate and verified.
• Event Notification: Emit network change events to keep dApps updated and prevent configuration mismatches.
