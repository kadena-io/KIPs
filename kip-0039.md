---
KIP: '0039'
Title: kadena_getNetwork_v1 API
Author: Danillo Felixdaal and Bart Huijgen
Status: Draft
Type: Standard
Category: Interface
Created: 2025-02-17
---

# kadena_getNetwork_v1 API

## Abstract

This KIP standardizes the `kadena_getNetwork_v1` method for retrieving information about the currently active network from a Kadena wallet. The method provides consistent network details to dApps, ensuring they can correctly adjust to the appropriate blockchain environment.

## Motivation

A uniform approach to obtaining network information simplifies dApp development by ensuring that network details are provided in a consistent format across different wallet implementations. This standardization will:

- Provide reliable network details (such as network name and networkId) to dApps.
- Simplify integration and reduce potential mismatches between wallet and dApp network settings.
- Enhance the overall user experience by ensuring clear network context.

## Specification

### Method Definition

**Method Name:** `kadena_getNetwork_v1`

### Response

The method returns a NetworkInfo object containing details about the active network:

```typescript
interface NetworkInfo {
  networkName: string // The display name of the network (e.g., "mainnet").
  networkId: string // The unique identifier for the network (e.g., "mainnet01").
  url?: string | string[] // Optional: The root endpoint URL(s) of the network. This should be the base URL for sending commands (e.g., "https://api.chainweb.com") rather than the full command path. Placeholders for chainId should be managed by the client.
}
```

### Error Responses

In case of failure, the wallet MUST return an error according to the [jsonrpc spec](https://www.jsonrpc.org/specification#error_object) which represent the following type:

```typescript
interface ErrorResponse {
  id: number
  jsonrpc: '2.0'
  error: {
    code: number
    message: string
    data?: object
  }
}
```

### Error types

| Code   | Message               |
| ------ | --------------------- |
| -32603 | Internal server error |

### Behavior Requirements

1. Network Information Retrieval:

   - MUST return accurate and up-to-date information about the currently active network.
   - MUST support all networks that the wallet is configured to operate with.

2. Error Handling:
   - MUST return a clear error if network information cannot be retrieved due to configuration issues or unsupported networks.

# Examples

## Basic Get Network Request

### Request

```json
{
  "id": 1,
  "jsonrpc": "2.0",
  "method": "kadena_getNetwork_v1"
}
```

### Success Response (Single Node)

```json
{
  "id": 1,
  "jsonrpc": "2.0",
  "result": {
    "networkName": "mainnet",
    "networkId": "mainnet01",
    "url": "https://api.chainweb.com"
  }
}
```

### Success Response (List of Nodes)

```json
{
  "id": 1,
  "jsonrpc": "2.0",
  "result": {
    "networkName": "mainnet",
    "networkId": "mainnet01",
    "url": ["https://api.chainweb.com", "https://api.xx.com"]
  }
}
```

## Error Response Example

### Error Response

```json
{
  "id": 1,
  "jsonrpc": "2.0",
  "error": {
    "code": -32603,
    "message": "Internal server error"
  }
}
```

## Backwards Compatibility

- Legacy Methods: Wallets MAY support older methods for retrieving network information alongside kadena_getNetwork_v1. Legacy methods MUST be documented as deprecated and phased out over time.

- Configuration Consistency: Implementations MUST ensure that the returned network information matches the walletâ€™s active configuration.

## Security Considerations

- Data Accuracy: Ensure that the returned network information is accurate and verified.
